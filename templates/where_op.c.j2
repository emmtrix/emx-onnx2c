static inline void {{ op_name }}(const {{ condition_c_type }} {{ condition }}{{ condition_array_suffix }}, const {{ input_c_type }} {{ input_x }}{{ x_array_suffix }}, const {{ input_c_type }} {{ input_y }}{{ y_array_suffix }}, {{ output_c_type }} {{ output }}{{ output_array_suffix }}) {
{% for dim in output_shape %}
{{ loop_indents[loop.index0] }}for (size_t {{ loop_vars[loop.index0] }} = 0; {{ loop_vars[loop.index0] }} < {{ dim }}; ++{{ loop_vars[loop.index0] }}) {
{% endfor %}
{{ inner_indent }}{{ output_expr }} = {{ condition_expr }} ? {{ x_expr }} : {{ y_expr }};
{% for _ in output_shape %}
{{ loop_indents[loop.revindex0] }}}
{% endfor %}
}
